<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="utf-8">
  <title>BeliveHome AI åŠ©æ‰‹</title>
  <style>
    body { font-family: sans-serif; margin: 20px; }
    .card { max-width: 600px; margin: auto; border: 1px solid #ccc; border-radius: 8px; padding: 16px; }
    .row { display: flex; gap: 8px; }
    input { flex: 1; padding: 8px; border: 1px solid #ddd; border-radius: 6px; }
    button { padding: 8px 12px; border: none; border-radius: 6px; background: #4CAF50; color: white; cursor: pointer; }
    #out { margin-top: 12px; padding: 10px; border: 1px solid #eee; border-radius: 6px; background: #fafafa; min-height: 60px; }
  </style>
</head>
<body>
  <div class="card">
    <h3>ğŸ¤– BeliveHome AI åŠ©æ‰‹</h3>
    <div class="row">
      <input id="q" placeholder="è¯·è¾“å…¥é—®é¢˜â€¦" />
      <button onclick="ask()">å‘é€</button>
    </div>
    <div id="out">æç¤ºï¼šè¾“å…¥é—®é¢˜åç‚¹å‡»â€œå‘é€â€</div>
  </div>

<script>
async function ask() {
  const q = document.getElementById('q').value;
  const out = document.getElementById('out');
  out.textContent = "â³ æŸ¥è¯¢ä¸­â€¦";
  try {
    const r = await fetch('/api/chat', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({ message: q })
    });
    const data = await r.json();
    if (data.reply) {
      out.innerHTML = data.reply.replace(/\n/g,'<br>');
    } else {
      out.textContent = "âŒ " + (data.error || "æœªçŸ¥é”™è¯¯");
    }
  } catch (e) {
    out.textContent = "âŒ å‡ºé”™: " + e.message;
  }
}
</script>
</body>
</html>
